<!DOCTYPE html>
<html>
<body>

<canvas id="myCanvas" width="600" height="600" style="border:1px solid #000000;">
</canvas> 

<!-- Paragraphs for the magnetometer values. -->

<br />

<p id="mag_alpha">No magnetometer found.</p>
<p id="mag_beta"></p>
<p id="mag_gamma"></p>



<script>

window.addEventListener("deviceorientation", function(event) {

	alpha = event.alpha;
	beta = event.beta;
	gamma = event.gamma;

	var img = new Image();
	img.src = "iah.jpg";
	half_width = img.naturalWidth / 2;
	half_height = img.naturalHeight / 2;

	var c = document.getElementById("myCanvas");
	var context = c.getContext("2d");
	var canvasWidth = 600;
	var canvasHeight = 600;
	
	context.clearRect(0, 0, canvasWidth, canvasHeight);
	context.translate(canvasWidth/2, canvasWidth/2);
	context.drawImage(img, canvasWidth/2, canvasHeight/2);



	document.querySelector("#mag_alpha").innerHTML = "alpha = " + alpha;
	document.querySelector("#mag_beta").innerHTML = "beta = " + beta;
	document.querySelector("#mag_gamma").innerHTML = "gamma = " + gamma;
}, true);

</script>

</body>
</html>
